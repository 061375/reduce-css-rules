var Reduce={filtered:{},init:function(){var a=document.createElement("div");a.setAttribute("id","yhytyhtuhf_cssreduce_container"),a.style.zIndex="9999",a.style.position="absolute",a.style.top="0px",a.style.left="0px";var b=document.createElement("input");b.setAttribute("type","text"),b.setAttribute("id","yhytyhtuhf_cssreduce_url"),b.setAttribute("placeholder","URL of stylesheet"),b.style.width="200px",a.appendChild(b);var c=document.createElement("button");c.setAttribute("type","button"),c.setAttribute("id","yhytyhtuhf_cssreduce_button"),c.innerHTML="Run",c.addEventListener("click",function(a){this.run()}),a.appendChild(c),document.getElementsByTagName("body").appendChild(a)},run:function(){var a=document.getElementById("yhytyhtuhf_cssreduce_url").value;this.ajax(a,function(b){this.filtered=this.parseStyleSheet(b),document.getElementById("yhytyhtuhf_cssreduce_container").remove(),body=document.getElementsByTagName("body")[0].getElementsByTagName("*"),l=body.length;for(var c=l;c--;)this.gatherRules(body[c]);var d=this.makeSheet(this.filtered,body);this.ajax(a,function(a){alert(a)},{method:"setStyle",data:{sheet:d,json:this.filtered}})})},ajax:function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){4==this.readyState&&200==this.status&&b(this.responseText)},d.open("POST",a,!0),"undefined"==typeof c&&(c={method:"getStyle"}),d.send(c)},parseStyleSheet:function(a){return JSON.parse(a)},gatherRules:function(a){var b,c=document.styleSheets;for(var d in c){var e=c[d].rules||c[d].cssRules;for(var f in e)if("undefined"!=typeof e[f].selectorText){var g=document.querySelectorAll(e[f].selectorText);if(l=g.length,l>0)for(var h=0;h<l;h++)if(g[h].isSameNode(a)){var b=/{(.*)}/,i=e[f].cssText.match(b);if(null!=i){var j=a.getAttribute("style");j=i[0].replace(b,"$1").trim(),this.filtered[e[f].selectorText]=j}}}}},makeSheet:function(a){var b="";for(var c in a)b+=c+"{"+a[c]+"}";var d=document.createElement("textarea");return d.setAttribute("onclick","this.focus();this.select()"),d.setAttribute("readonly","readonly"),d.style.zIndex="9999",d.style.position="absolute",d.style.top="0px",d.style.left="0px",d.style.width="1000px",d.style.height="1000px",d.innerHTML=b,body.appendChild(d),b}};Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var a=this.length-1;a>=0;a--)this[a]&&this[a].parentElement&&this[a].parentElement.removeChild(this[a])},Reduce.run();